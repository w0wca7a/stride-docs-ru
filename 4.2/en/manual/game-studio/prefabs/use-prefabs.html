<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Use prefabs | Stride Manual </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Use prefabs | Stride Manual ">
      
      
      <link rel="icon" href="../../../favicon.ico">
      <link rel="stylesheet" href="../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../public/main.css">
      <meta name="docfx:navrel" content="../../../toc.html">
      <meta name="docfx:tocrel" content="../../toc.html">
      
      <meta name="docfx:rel" content="../../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/stride3d/stride-docs/blob/master/en/manual/game-studio/prefabs/use-prefabs.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="https://www.stride3d.net/">
            <img id="logo" class="svg" src="../../../media/stride-logo-red.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="use-prefabs">Use prefabs</h1>

<p><span class="badge text-bg-primary">Intermediate</span>
<span class="badge text-bg-success">Programmer</span>
<span class="badge text-bg-success">Designer</span></p>
<p>To instantiate a prefab, drag and drop it from the <strong>Asset View</strong> to the scene.</p>
<p>You can re-arrange entities in the prefab instance just like you do with other entities:</p>
<ul>
<li>create child and parent entities</li>
<li>drag entities to add them to the prefab instance</li>
<li>drag entities from the prefab instance to make them independent entities</li>
</ul>
<h2 id="manage-prefab-parent-entities">Manage prefab parent entities</h2>
<p>By default, Game Studio creates an empty parent entity with the prefab's entities as its children. The Entity Tree displays the prefab parent name in green next to the child entities.</p>
<p><img src="media/prefabs-in-scene-editor.png" alt="Prefab parent and children in Entity Tree"></p>
<p>This is useful because you can manage the prefab entities as a group and maintain their relative positions. For example, imagine you have a car prefab assembled from several entities (a body, seats, four wheels, etc). You want its component entities to stay grouped together as you move the car around the scene. You can do this by moving the prefab parent entity.</p>
<p>If you don't want to create a parent entity with the prefab, hold <strong>Alt</strong> when you drop the prefab into the scene. This is useful if you don't care about the relative positions of the prefab's entities and don't need to move them together as a group. For example, imagine you have a prefab composed of several crate entities arranged in a random fashion. It's not important that the crates maintain their relative position after you place them; in fact, several identical stacks of &quot;randomly&quot; arranged crates looks artificial.</p>
<p>In this case, a parent entity is unnecessary. Instead, you can create several instances of the prefab, then re-arrange their individual crate entities to create the effect you need.</p>
<table>
<thead>
<tr>
<th>Relative positions maintained</th>
<th>Relative positions ignored</th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="media/boxes-duplicated.jpg" alt="Boxes duplicated"></td>
<td><img src="media/boxes-random.jpg" alt="Boxes duplicated"></td>
</tr>
</tbody>
</table>
<h2 id="break-link-to-prefab">Break link to prefab</h2>
<p>After you add a prefab instance, you can break the link between the prefab and any of its child entities. This means the child entity is no longer affected by changes you make to the prefab.</p>
<p>To do this, in the <strong>Scene Editor</strong>, right-click a child entity or entities and select <strong>Break link to prefab</strong>.</p>
<p><img src="media/use-prefabs-break-link-to-prefab.gif" alt="Break link between child and prefab"></p>
<h2 id="instantiate-and-add-prefabs-at-runtime">Instantiate and add prefabs at runtime</h2>
<p>To use prefabs at runtime, you need to instantiate them and then add them to the scene in code.</p>
<pre><code class="lang-cs">public class SpawnPrefabOnStart : StartupScript
{
    public Prefab MyPrefab { get; init; } // init here prevents other scripts from changing this property
    
    public override void Start()
    {
        // A prefab may contain multiple entities
        var entities = MyPrefab.Instantiate();
        // Adding them to the scene this entity is on
        Entity.Scene.Entities.AddRange(entities);
    }
}
</code></pre>
<div class="NOTE">
<h5>Note</h5>
<p><code>Instantiate()</code> by itself isn't enough to add a prefab instance to the scene. You also need to <code>Add()</code> or <code>AddRange()</code> them to a scene . For example, if your prefab contains a model, the model is invisible until you add the prefab instance. Likewise, if your prefab contains a script, the script won't work until you add the prefab instance.</p>
</div>
<p>If you have a prefab named <em>MyBulletPrefab</em> in the root folder of your project, you can instantiate and add it with the following code:</p>
<pre><code class="lang-cs">private void InstantiateBulletPrefab()
{
    // Note that &quot;MyBulletPrefab&quot; refers to the name and location of your prefab asset
    var myBulletPrefab = Content.Load&lt;Prefab&gt;(&quot;MyBulletPrefab&quot;);

    // Instantiate a prefab
    var instance = myBulletPrefab.Instantiate();
    var bullet = instance[0];

    // Change the X coordinate
    bullet.Transform.Position.X = 20.0f;

    // Adding just the bullet to the root scene
    SceneSystem.SceneInstance.RootScene.Entities.Add(bullet);
}
</code></pre>
<div class="NOTE">
<h5>Note</h5>
<p>At runtime, changes made to prefabs (<em>myBulletPrefab</em> in the above example) don't affect existing prefab instances (<em>bullet</em> in the above example). Subsequent calls to <code>Instantiate(Prefab)</code> include new changes.
For example, imagine you have a tree prefab that contains a script to change the tree color from green to red at runtime. The script won't affect existing instances of the prefab; it can only change the color of <strong>future</strong> instances. This means prefabs instantiated after the code runs will have the new color, but existing prefabs won't.</p>
</div>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="index.html">Prefab index</a></li>
<li><a href="create-a-prefab.html">Create a prefab</a></li>
<li><a href="edit-prefabs.html">Edit prefabs</a></li>
<li><a href="nested-prefabs.html">Nested prefabs</a></li>
<li><a href="override-prefab-properties.html">Override prefab properties</a></li>
<li><a href="prefab-models.html">Prefab models</a></li>
</ul>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/stride3d/stride-docs/blob/master/en/manual/game-studio/prefabs/use-prefabs.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <div class="d-flex flex-column flex-sm-row justify-content-between pt-1 text-center small"><p>Supported by the <a href="https://dotnetfoundation.org/" target="_blank" rel="noopener">.NET Foundation</a></p><p>Made with <a href="https://dotnet.github.io/docfx">docfx</a></p><p>Stride Docs Website v.2.0.0.4</p><p>&copy; .NET Foundation and Contributors</p></div>
        </div>
      </div>
    </footer>
  </body>
</html>
