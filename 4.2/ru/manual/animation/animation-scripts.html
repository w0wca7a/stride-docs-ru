<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Animation scripts | Stride Manual </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Animation scripts | Stride Manual ">
      
      
      <link rel="icon" href="../../favicon.ico">
      <link rel="stylesheet" href="../../public/docfx.min.css">
      <link rel="stylesheet" href="../../public/main.css">
      <meta name="docfx:navrel" content="../../toc.html">
      <meta name="docfx:tocrel" content="../toc.html">
      
      <meta name="docfx:rel" content="../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/stride3d/stride-docs/blob/master/en/manual/animation/animation-scripts.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="https://www.stride3d.net/">
            <img id="logo" class="svg" src="../../media/stride-logo-red.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="animation-scripts">Animation scripts</h1>

<div class="WARNING">
<h5>Warning</h5>
<p>Приносим свои извинения за неудобства. Для этой страницы нет перевода на русский язык. Она будет отображаться на английском языке.</p>
</div>
<p><span class="badge text-bg-primary">Intermediate</span>
<span class="badge text-bg-success">Programmer</span></p>
<p>Animations are controlled using scripts.</p>
<p>You can add an <a class="xref" href="../../api/Stride.Engine.AnimationComponent.html">AnimationComponent</a> to an entity and <a href="set-up-animations.html">set up its parameters</a> in Game Studio. The <a class="xref" href="../../api/Stride.Engine.AnimationComponent.html">AnimationComponent</a> class is designed to be used mainly from a script.</p>
<p>The more useful properties include:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a class="xref" href="../../api/Stride.Engine.AnimationComponent.html#Stride_Engine_AnimationComponent_Animations">Animations</a></td>
<td>Gets the animation clips associated with this <a class="xref" href="../../api/Stride.Engine.AnimationComponent.html">AnimationComponent</a></td>
</tr>
<tr>
<td><a class="xref" href="../../api/Stride.Engine.AnimationComponent.html#Stride_Engine_AnimationComponent_BlendTreeBuilder">BlendTreeBuilder</a></td>
<td>Gets or sets animation blend tree builder. Note you can create custom blend trees; for more information, see <a href="custom-blend-trees.html">Custom blend tree</a></td>
</tr>
<tr>
<td><a class="xref" href="../../api/Stride.Engine.AnimationComponent.html#Stride_Engine_AnimationComponent_PlayingAnimations">PlayingAnimations</a></td>
<td>Gets the list of active animations. Use it to customize your startup animations. The playing animations are updated automatically by the animation processor, so be careful when changing the list or keeping a reference to a playing animation</td>
</tr>
</tbody>
</table>
<div class="NOTE">
<h5>Note</h5>
<p>Animation clips you reference in scripts must be added to the same entity under the <a class="xref" href="../../api/Stride.Engine.AnimationComponent.html">AnimationComponent</a>.</p>
</div>
<blockquote>
<p><img src="media/animations-added-to-component.png" alt="Animations added to component"></p>
</blockquote>
<blockquote>
<p>For more information, see <a href="set-up-animations.html">Set up animations</a>.</p>
</blockquote>
<h2 id="use-the-pre-built-animationstart-script">Use the pre-built <strong>AnimationStart</strong> script</h2>
<p>Stride includes a pre-built <strong>AnimationStart</strong> script. You can use this script as a template to write your own animation scripts.</p>
<p>To use the <strong>AnimationStart</strong> script:</p>
<ol>
<li><p>In the <strong>Asset View</strong> (bottom pane by default), click <strong>Add asset</strong>.</p>
</li>
<li><p>Choose <strong>Add asset &gt; Scripts &gt; Animation start</strong>.</p>
<p><img src="media/animations-additive-animations-animation-start.png" alt="Add animation script"></p>
</li>
<li><p>Specify a name for the script and click <strong>Create script</strong>.</p>
<p><img src="media/name-animation-script.png" alt="Create script"></p>
<p>3a. If Game Studio asks if you want to save your script, click <strong>Save script</strong>.</p>
<p>3b. If Game Studio asks if you want to reload the assemblies, click <strong>Reload assemblies</strong>.</p>
</li>
<li><p>Edit the script as necessary and save it.</p>
</li>
</ol>
<h2 id="example-animation-script">Example animation script</h2>
<p>This sample script assigns a simple animation to a character based on its walking speed.</p>
<pre><code class="lang-cs">using Stride.Engine;

namespace AdditiveAnimation
{
    public class AnimationClipExample : SyncScript
    {
        public float MovementSpeed { get; set; } = 0f;

        private float walkingSpeedLimit = 1.0f;

        // Assuming the script is attached to an entity which has an animation component
        private AnimationComponent animationComponent;

        public override void Start()
        {
            // Cache some variables we'll need later
            animationComponent = Entity.Get&lt;AnimationComponent&gt;();
            animationComponent.Play(&quot;Idle&quot;);
        }

        protected void PlayAnimation(string name)
        {
            if (!animationComponent.IsPlaying(name))
                animationComponent.Play(name);
        }

        public override void Update()
        {
            if (MovementSpeed &lt;= 0)
            {
                PlayAnimation(&quot;Idle&quot;);
            }
            else if (MovementSpeed &lt;= walkingSpeedLimit)
            {
                PlayAnimation(&quot;Walk&quot;);
            }
            else 
            {
                PlayAnimation(&quot;Run&quot;);
            }
        }
    }
}
</code></pre>
<h2 id="override-the-animation-blend-tree">Override the animation blend tree</h2>
<p>You can also override the animation blend tree and do all animation blending in the script. The templates <em>First-person shooter</em>, <em>Third-person platformer</em> and <em>Top-down RPG</em>, which use some advanced techniques, are examples of how to do this. For more information, see <a href="custom-blend-trees.html">custom blend trees</a>.</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="../scripts/index.html">Scripts</a></li>
<li><a href="index.html">Animation index</a></li>
<li><a href="import-animations.html">Import animations</a></li>
<li><a href="animation-properties.html">Animation properties</a></li>
<li><a href="set-up-animations.html">Set up animations</a></li>
<li><a href="preview-animations.html">Preview animations</a></li>
<li><a href="additive-animation.html">Additive animation</a></li>
<li><a href="procedural-animation.html">Procedural animation</a></li>
<li><a href="custom-blend-trees.html">Custom blend trees</a></li>
<li><a href="model-node-links.html">Model node links</a></li>
<li><a href="custom-attributes.html">custom attributes</a></li>
</ul>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/stride3d/stride-docs/blob/master/en/manual/animation/animation-scripts.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <div class="d-flex flex-column flex-sm-row justify-content-between pt-1 text-center small"><p>Supported by the <a href="https://dotnetfoundation.org/" target="_blank" rel="noopener">.NET Foundation</a></p><p>Made with <a href="https://dotnet.github.io/docfx">docfx</a></p><p>Stride Docs Website v.2.0.0.4</p><p>&copy; .NET Foundation and Contributors</p></div>
        </div>
      </div>
    </footer>
  </body>
</html>
