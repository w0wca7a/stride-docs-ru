<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Clear-coat shading | Stride Manual </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Clear-coat shading | Stride Manual ">
      
      
      <link rel="icon" href="../../../favicon.ico">
      <link rel="stylesheet" href="../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../public/main.css">
      <meta name="docfx:navrel" content="../../../toc.html">
      <meta name="docfx:tocrel" content="../../toc.html">
      
      <meta name="docfx:rel" content="../../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/stride3d/stride-docs/blob/master/en/manual/graphics/materials/clear-coat-shading.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="https://www.stride3d.net/">
            <img id="logo" class="svg" src="../../../media/stride-logo-red.svg" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" style="margin-top: -.65em; margin-left: -.8em" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="clear-coat-shading">Clear-coat shading</h1>

<div class="WARNING">
<h5>Warning</h5>
<p>Приносим свои извинения за неудобства. Для этой страницы нет перевода на русский язык. Она будет отображаться на английском языке.</p>
</div>
<p><span class="badge text-bg-primary">Intermediate</span>
<span class="badge text-bg-success">Artist</span>
<span class="badge text-bg-success">Programmer</span></p>
<p><strong>Clear-coat shading</strong> uses physically-based rendering to simulate vehicle paint.</p>
<p><img src="media/clear-coat-2.jpg" alt="Clear coat"></p>
<p>Real vehicles typically have three layers of paint applied to the body, as in the diagram below:</p>
<p><img src="media/paint-layers.png" alt="Diagram"></p>
<p>To keep the shading simple, Stride only simulates the <strong>base coat</strong> (including optional metal flakes) and <strong>clear coat</strong> layers. Stride blends the layers depending on how far the camera is from the material. This reduces visual artifacts caused by the metal flake normal map (which becomes more visible as the camera moves away from the material).</p>
<p>Clear-coat shading has several advantages over creating the effect manually with <a href="material-layers.html">material layers</a>:</p>
<ul>
<li>layers are blended based on distance</li>
<li>increased performance</li>
<li>improved visualization</li>
</ul>
<h2 id="add-a-clear-coat-material">Add a clear-coat material</h2>
<p>Stride includes a clear-coat material template. To add it, in the <strong>Asset View</strong>, click <strong>Add asset</strong> and select <strong>Material &gt; PBR material: clear coat</strong>.</p>
<p><img src="media/add-clear-coat.png" alt="Add clear coat"></p>
<p>Alternatively, to set clear-coat properties yourself:</p>
<ol>
<li><p>Select the material you want to use clear-coat shading.</p>
</li>
<li><p>In the Property Grid, under the <strong>Misc</strong> properties, next to <strong>Clear coat</strong>, click <img src="../../game-studio/media/blue-arrow-icon.png" alt="Blue arrow button"> (<strong>Replace</strong>) and choose <strong>Clear coat</strong>.</p>
<p><img src="media/select-clear-coat.png" alt="Select clear coat"></p>
<div class="NOTE">
<h5>Note</h5>
<p>For clear-coat shading to work correctly, make sure you enable <strong>Diffuse</strong>, <strong>Specular</strong> and <strong>Specular model</strong> under the material <strong>Shading</strong> properties.</p>
</div>
<blockquote>
<p><img src="media/enable-shading-options.png" alt="Shading options"></p>
</blockquote>
</li>
</ol>
<h2 id="properties">Properties</h2>
<p>You can access the clear-coat shader properties under <strong>Misc &gt; Clear coat</strong>. They're split into three parts: the <strong>base paint</strong> and optional <strong>metal flake</strong> properties simulate the base coat, and the <strong>clear coat</strong> properties simulate the clear coat.</p>
<p>The metal flake properties simulate a metallic paint effect. To disable the effect, remove the metal flake normal map.</p>
<p><img src="media/clear-coat-properties.png" alt="Add clear coat"></p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Base paint diffuse map</td>
<td>The <a href="shading-attributes.html">diffuse map</a> used by the base paint layer (the lowest  layer). This determines the color of the layer.</td>
</tr>
<tr>
<td>Base paint gloss map</td>
<td>The <a href="geometry-attributes.html">gloss map</a> used by the base paint layer. For a coherent result, use the <strong>metal flake normal map</strong> as a mask.</td>
</tr>
<tr>
<td>Metal flakes diffuse map</td>
<td>The <a href="shading-attributes.html">diffuse map</a> used by the metal flake layer (the layer above the base paint). For a coherent result, use a value close to the base paint value.</td>
</tr>
<tr>
<td>Metal flakes gloss map</td>
<td>The <a href="geometry-attributes.html">gloss map</a> used by the metal flake layer. For a coherent result, use the <strong>metal flake normal map</strong> as a mask.</td>
</tr>
<tr>
<td>Metal flakes metalness map</td>
<td>The <a href="shading-attributes.html">metalness map</a> used by the metal flake layer. For best results, use high values.</td>
</tr>
<tr>
<td>Metal flake normal map</td>
<td>The <a href="../textures/normal-maps.html">normal map</a> used by the metal flake layer. This shapes the flake geometry. A metal flake normal map  (<strong>StrideClearCoatMetalFlakesNM</strong>) is included in the Stride assets package. If the texture has a high UV scale, enable <strong>Use random texture coordinates</strong> below to reduce tiling effects. To disable the metal flakes effect, remove the normal map.</td>
</tr>
<tr>
<td>Coat gloss map</td>
<td>The <a href="geometry-attributes.html">gloss map</a> used by the clear coat layer. Change this value to simulate different kinds of paint (eg matte).</td>
</tr>
<tr>
<td>Clear coat metalness map</td>
<td>The <a href="shading-attributes.html">metalness map</a> used by the clear coat layer</td>
</tr>
<tr>
<td>Orange peel normal map</td>
<td>The <a href="../textures/normal-maps.html">normal map</a> used by the clear coat layer to create an &quot;orange peel&quot; effect. This reflects light in different angles, simulating paint imperfections whereby the texture appears bumpy, like the skin of an orange. An orange peel normal map (<strong>StrideClearCoatOrangePeelNM</strong>) is included in the Stride assets package.</td>
</tr>
<tr>
<td>Layer transition distance</td>
<td>The distance (in meters) at which the base paint layer transitions to the metal flake layer. This helps fight visual artifacts caused by the metal flake normal map (which becomes more visible as the camera moves away from the material).</td>
</tr>
</tbody>
</table>
<h2 id="reduce-tiling-and-artifacts">Reduce tiling and artifacts</h2>
<p>Properties that use binary operators should use <strong>normalized values</strong> (ie between <code>0.0</code> and <code>1.0</code>). For example, in the screenshot below, the <strong>left</strong> operator uses a value of <code>0.5</code>.</p>
<p><img src="media/clear-coat-binary-operator.png" alt="Binary operator"></p>
<p>Values over <code>1.0</code> might produce tiling artifacts, as in the image below (note the grid pattern):</p>
<p><img src="media/clear-coat-artifact1.jpg" alt="Artifact"></p>
<h3 id="strideclearcoatmetalflakesnm">StrideClearCoatMetalFlakesNM</h3>
<p>The metal flakes in the metal flake normal map included in the Stride assets package (<strong>StrideClearCoatMetalFlakesNM</strong>) are quite large. For this reason, we recommend you:</p>
<ul>
<li><p>use a high <strong>UV scale factor</strong> which tiles the texture (thereby shrinking the flakes)</p>
</li>
<li><p>enable <strong>Use random texture coordinates</strong>, preventing an obvious tiling effect</p>
<p><img src="media/use-random-texture-coordinates.png" alt="Use random texture coordinates"></p>
</li>
</ul>
<div class="NOTE">
<h5>Note</h5>
<p>The <strong>Use random texture coordinates</strong> option is costly, so we don't recommend you use it for mobile platforms.</p>
</div>
<p>Alternatively, use a normal map with a higher density of smaller metal flakes.</p>
<h2 id="see-also">See also</h2>
<ul>
<li><a href="material-maps.html">Material maps</a></li>
<li><a href="material-attributes.html">Material attributes</a>
<ul>
<li><a href="geometry-attributes.html">Geometry attributes</a></li>
<li><a href="shading-attributes.html">Shading attributes</a></li>
<li><a href="misc-attributes.html">Misc attributes</a></li>
</ul>
</li>
<li><a href="material-layers.html">Material layers</a></li>
<li><a href="material-slots.html">Material slots</a></li>
<li><a href="materials-for-developers.html">Materials for developers</a></li>
</ul>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/stride3d/stride-docs/blob/master/en/manual/graphics/materials/clear-coat-shading.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <div class="d-flex flex-column flex-sm-row justify-content-between pt-1 text-center small"><p>Supported by the <a href="https://dotnetfoundation.org/" target="_blank" rel="noopener">.NET Foundation</a></p><p>Made with <a href="https://dotnet.github.io/docfx">docfx</a></p><p>Stride Docs Website v.2.0.0.1</p><p>&copy; .NET Foundation and Contributors</p></div>
        </div>
      </div>
    </footer>
  </body>
</html>
